<!-- Views/Cart/GioHang.cshtml -->
@{
    ViewData["Title"] = "Giỏ hàng";
    Layout = "~/Views/Shared/_Layout.cshtml"; // hoặc null nếu bạn chưa dùng layout
}
@section Styles {
    <link rel="stylesheet" href="~/css/giohang.css" />
}

<div class="container-fluid px-0">
  <h5 class="mb-4" id="cartTitle" style="font-weight: 600;">Giỏ hàng</h5>

  <!-- TÁCH ROW NÚT RA -->
  <div class="row mb-2">
    <div class="col-lg-8 col-12 ps-0">
      <button id="btnSelectAll" class="btn btn-sm btn-outline-primary">Chọn tất cả</button>
      <button id="btnDeleteAll" class="btn btn-sm btn-danger" style="display:none; margin-left:8px;">Xóa tất cả</button>
    </div>
  </div>

  <!-- PHẦN CHÍNH: bảng sản phẩm + hóa đơn -->
  <div class="row g-4 align-items-start">
    <div class="col-lg-8 col-12 ps-0">
      <table class="cart-table w-100">
          <thead>
            <tr>
              <th scope="col" style="width:40px; padding:12px 0;"></th>
              <th scope="col" style="min-width:240px; padding:12px 0; padding-left: 25px;">Sản phẩm</th>
              <th scope="col" style="width:130px; padding:12px 0;">Giá tiền</th>
              <th scope="col" style="width:115px; padding:12px 0;">Số lượng</th>
              <th scope="col" style="width:130px; padding:12px 0;">Thành tiền</th>
              <th scope="col" style="width:60px; padding:12px 0;"></th>

            </tr>
          </thead>
          <tbody id="cartBody">
            <!-- Sản phẩm sẽ được render bằng JS -->
          </tbody>
 </table>
      <a href="#" class="continue-shopping" id="btnContinueShopping"> Tiếp tục mua hàng</a>
    </div>

    <!-- HÓA ĐƠN -->
    <div class="col-lg-4 col-12">
      <div class="summary-card">
          <div class="summary-title">Hóa đơn của bạn</div>
          <div class="summary-row">
            <span>Tạm tính:</span>
            <strong id="subtotal">1.149.000 ₫</strong>
          </div>
          <div class="summary-row" style="font-size: 16px; font-weight: 700; color: #d33838; border-top: 1px solid #ddd; padding-top: 10px;">
            <span>Tổng cộng:</span>
            <strong id="total">1.149.000 ₫</strong>
          </div>
          <!-- ✅ THÊM id="btnCheckout" TẠI ĐÂY -->
          <button type="button" id="btnCheckout" class="btn btn-checkout mt-3">Tiến hành đặt hàng</button>
        </div>
      </div>
    </div>
  </div>

   <!-- Modal thông báo đặt hàng thành công -->
  <div class="modal fade" id="orderSuccessModal" tabindex="-1" aria-labelledby="orderSuccessLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="orderSuccessLabel">
            <i class="fas fa-check-circle mr-2"></i>
            Đặt hàng thành công!
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
        </div>
        <div class="modal-body">
          <div class="text-center">
            <i class="fas fa-gift text-4xl mb-3" style="color: var(--accent-green);"></i>
            <p>Bạn đã đặt hàng thành công!</p>
            <p>Cảm ơn bạn đã mua sắm tại <strong style="color: var(--primary-green);">LITTLEFISH</strong>.</p>
          </div>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal">
            <i class="fas fa-thumbs-up mr-2"></i>Hoàn tất
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal thông báo giỏ hàng trống -->
  <div class="modal fade" id="emptyCartModal" tabindex="-1" aria-labelledby="emptyCartLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" style="border-radius: 20px; border: 3px solid var(--accent-green);">
        <div class="modal-header" style="background: var(--gradient-green); border-radius: 17px 17px 0 0; border: none; position: relative;">
          <h5 class="modal-title" id="emptyCartLabel" style="color: white; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;">
            <i class="fas fa-exclamation-triangle" style="margin-right: 10px;"></i>
            THÔNG BÁO
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng" style="background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; width: 35px; height: 35px;"></button>
        </div>
        <div class="modal-body" style="padding: 40px 30px; text-align: center; background: white;">
          <div style="margin-bottom: 20px;">
            <i class="fas fa-shopping-cart" style="font-size: 60px; color: var(--accent-green); opacity: 0.6;"></i>
          </div>
          <p style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px; line-height: 1.4;">
            Giỏ hàng của bạn hiện đang không có mặt hàng nào.
          </p>
          <p style="font-size: 15px; color: #666; margin-bottom: 0; line-height: 1.5;">
            Hãy thêm sản phẩm để tiếp tục mua sắm!
          </p>
        </div>
        <div class="modal-footer" style="background: var(--very-light-bg); border-top: 2px solid var(--border-green); border-radius: 0 0 17px 17px; padding: 20px 30px; justify-content: center; gap: 15px;">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="padding: 12px 24px; border-radius: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; background: linear-gradient(135deg, #757575, #9e9e9e); border: none; color: white;">
            ĐÓNG
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal thông báo chưa chọn sản phẩm nào -->
  <div class="modal fade" id="noSelectedModal" tabindex="-1" aria-labelledby="noSelectedLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="noSelectedLabel">
            <i class="fas fa-info-circle mr-2"></i>
            Thông báo
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
        </div>
        <div class="modal-body">
          <div class="text-center">
            <i class="fas fa-hand-pointer text-4xl mb-3" style="color: var(--accent-green);"></i>
            <p>Bạn chưa chọn sản phẩm nào.</p>
            <p class="text-muted">Vui lòng chọn ít nhất một sản phẩm để tiếp tục!</p>
          </div>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            <i class="fas fa-check mr-2"></i>Đã hiểu
          </button>
        </div>
      </div>
    </div>
  </div>
@section Scripts {
    <script src="~/js/giohang.js"></script>
}


